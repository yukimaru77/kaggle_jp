# 要約 
このディスカッションは、Kaggleコンペティション「LMSYS - Chatbot Arena 人間による好み予測チャレンジ」における適切なモデルの選択について議論しています。

KeShuang Liuさんは、ファインチューニング中に検証損失が1付近で振動し始めたため、最も低い損失のポイントを選択して提出すべきか、それとも最終結果を提出すべきか質問しています。

Valentin Wernerさんは、トレーニング損失ではなく検証損失に基づいてモデルを選択すべきだと回答しています。トレーニング損失はモデルが未知のデータに対してどのように予測できるかを表すものではないため、検証損失を最小化するモデルを選択すべきだと説明しています。また、検証損失で過剰適合する可能性があるため、リーダーボードの提出を「テストセット」として使用して検証損失を検証することを提案しています。

Casmir Sunnyさんは、最も低い検証損失を持つチェックポイントに対応するモデルを提出することを推奨しています。しかし、Valentin Wernerさんは、検証データのサブセットのみを使用する場合、このアプローチを盲目的に従うことで、検証データで過剰適合する可能性があると反論しています。

Yi-Fu Chenさんは、トレーニング損失と検証損失の違いについて説明しています。トレーニング損失はトレーニング中に計算された最後の損失であり、検証損失は検証データセット全体の平均損失であるため、検証損失はより滑らかで、トレーニング損失はよりぎくしゃくしている可能性があると説明しています。

このディスカッションから、適切なモデルを選択するには、検証損失を最小化するモデルを選択し、リーダーボードの提出を「テストセット」として使用して検証損失を検証することが重要であることがわかります。また、トレーニング損失と検証損失の違いを理解することも重要です。


---
# 適切なモデルの選び方

**KeShuang Liu** *2024年7月24日 水曜日 13:48:06 GMT+0900 (日本標準時)* (0票)
ファインチューニング中に、log_dassが1付近で振動し始めました。最も低い損失のポイントを選択して提出する必要がありますか、それとも最終結果を提出する必要がありますか？
---
# 他のユーザーからのコメント
> ## Valentin Werner
> 
> これはトレーニング損失ですよね？検証損失はもっと安定しているはずです。
> 
> モデルの選択は、トレーニング損失に基づいて行うべきではありません。トレーニング損失は、モデルが未知のデータに対してどのように予測できるかを表すものではないからです。私の経験では、CVを使って最適なパラメータを見つけてから、すべてのCVモデルで最も効果的だった固定の長さで完全なトレーニングを行うか、単一のモデルをトレーニングし、検証セットを使ってその単一のモデルを提出するのが最適です。
> 
> その後、検証損失を最小化するモデル/パラメータを選択します。ただし、検証損失で過剰適合する可能性があることに注意してください。これは、最も低い検証損失を持つエポックの特定のポイントを選択する可能性があるためです。検証損失のわずかな違いは、必ずしも新しいデータに対するモデルの能力を反映するものではありません。そのため、リーダーボードの提出を「テストセット」として使用して、検証損失を検証することができます。モデルの検証損失とリーダーボードスコア（この場合は損失）が低い場合は、有望なモデルです。
> 
> お役に立てれば幸いです！
> 
> 
> 
> > ## KeShuang Liuトピック作成者
> > 
> > どうもありがとうございます。確認したところ、これは確かに検証セット損失ではなく、トレーニング損失でした。検証セット損失を使ってモデルを選択し、あなたが言及したトレーニング方法も試してみます。ご回答ありがとうございます。
> > 
> > 
> > 
---
> ## Casmir Sunny
> 
> 最も低い検証損失を持つチェックポイントに対応するモデルを提出することをお勧めします。これは、最も汎用性が高く、パフォーマンスの高いモデルバージョンを提出していることを保証します。
> 
> 
> 
> > ## Valentin Werner
> > 
> > 必ずしもそうではありません。特に検証データのサブセットのみを使用する場合、このアプローチを盲目的に従うことで、検証データで過剰適合する可能性があります。トレーニング損失と検証損失を比較して、そこから判断することも理にかなっています。
> > 
> > 
> > 
---
> ## Yi-Fu Chen
> 
> トレーナーについて
> 
> 私の理解では、「トレーニング損失」はトレーニング中に計算された最後の損失であり、平均はありません。「検証損失」は、検証データセット全体の平均損失です。
> 
> したがって、「検証損失」はより滑らかで、「トレーニング損失」はよりぎくしゃくしている可能性があります。
> 
> 
> 
---
