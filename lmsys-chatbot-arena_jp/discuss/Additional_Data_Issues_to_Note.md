# 注目すべき追加データの問題点

**AbaoJiang** *2024年5月29日 水曜日 01:05:17 GMT+0900 (日本標準時)* (7票)

皆さん、こんにちは！

私の[LMSYS - 詳細なEDA](https://www.kaggle.com/code/abaojiang/lmsys-detailed-eda?scriptVersionId=180273328)でさらにEDAを行った結果、皆さんと共有して議論したい追加のデータ問題が見つかりました。

### null だけでなく空の応答も

[このフォーラム](https://www.kaggle.com/competitions/lmsys-chatbot-arena/discussion/502303)で指摘されているように、null 応答の問題が存在することは知っています。ここでは、モデルからの応答が空文字列であるという、別の類似の問題を共有したいと思います。現在、1回の会話中に少なくとも1つのモデル応答が "" に等しいかどうかを確認していますが、答えは「はい」です。

[](https://postimg.cc/75R2GD0h)

上記に示すように、

* None/空のプロンプトを持つサンプルは存在しません。
* A と B の両方で None 応答を持つ行が 120 行以上存在します。
* A と B の両方で空の応答を持つ行が 30 行以上存在します。

スペースのみ（例：" ", "    "）、改行のみ（例：\n）など、他の文字列もテストできます。

### 意図しないプロンプトと応答の混在？

[](https://postimg.cc/F1xDBP2p)

欠損値を調査したところ、上記のような興味深いチャットの例が見つかりました。ご覧のとおり、モデル A の gpt-4-0613 は空文字列を応答しますが、モデル B は正常に応答しています。また、プロンプトの終わりは応答と同じです。

興味深いことに、同じプロンプトを Chatbot Arena に 2 つの形式で入力してみました。

#### a. このプロンプトをそのまま入力する

[](https://postimg.cc/7fzm9sPK)

#### b. プロンプトの最後に QA を含まないこのプロンプトを入力する

[](https://postimg.cc/qg9pnynr)

ご覧のとおり、最初のケースでは、モデル A はプロンプトの最後に QA 情報を応答として解釈している可能性があります。2 番目のケースでは、モデル B はプロンプトに QA 情報を含まない、類似の回答を提供しています。

そこで、疑問が生じます。

* null 応答と空の応答の違いは何ですか？
* 意図せず応答がプロンプトに混入しているサンプルが存在する可能性はありますか？

これらのトピックに関するご意見を共有してください。よろしくお願いします！

---

# 他のユーザーからのコメント

> ## dragon zhang
> 
> 共有していただきありがとうございます。スコアが変わっています。メトリックが変更されたのでしょうか、それともテストデータでしょうか？
> 
> 
> 
> > ## AbaoJiangトピック作成者
> > 
> > こんにちは！
> > 
> > データ漏洩の問題が存在するため、ソリューションファイルが修正され、ノートブックが再採点されました。[このフォーラム](https://www.kaggle.com/competitions/lmsys-chatbot-arena/discussion/506137)を参照してください。お役に立てれば幸いです。
> > 
> > 
> > 
---
> ## Dr. Gopalashivabalasubramanium Chandrashekaran
> 
> 面白いですね！このため、テキストデータ列の確認は避けていました。
> 
> 定性的な応答分析は難しいでしょう。モデルが規制の範囲外など、回答できない質問をユーザーがした場合どうなるでしょうか？
> 
> ただし、50,000 行以上あるため、これらの null 値を削除しても、モデルのトレーニングに大きな影響はないと思います。
> 
> これは、ユーザーのプロンプトが null 応答を生成する可能性があるかどうかをフィルターする、ある種のアンサンブルモデルというアイデアを与えてくれます。
> 
> 
> 
---

