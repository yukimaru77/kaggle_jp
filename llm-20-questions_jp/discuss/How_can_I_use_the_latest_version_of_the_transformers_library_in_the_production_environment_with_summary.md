# 要約 
このディスカッションは、Kaggleコンペティションの参加者が、本番環境で最新のtransformersライブラリ（バージョン4.42.4）を使用できないという問題について議論しています。

TomFujは、Kaggle環境でpipを使ってインストールした最新のtransformersライブラリが、本番環境ではバージョン4.41.2にダウングレードされてしまい、正しく反映されていないと報告しています。

MitsutaniとJacobSteinも同様の問題に直面しており、解決策を求めています。

Chris Deotteは、提出時に使用するパッケージをpipでインストールする方法について、自身のスターターノートブックを紹介していますが、Mitsutaniは、Gemma 2を実行している環境では、ノートブックと同じ手順に従っても、本番環境でtransformersをインポートすると古いバージョンが読み込まれてしまい、Gemma 2をロードできないと報告しています。

このディスカッションは、Kaggleコンペティションにおける本番環境でのライブラリバージョン管理に関する問題を浮き彫りにしています。参加者は、本番環境で最新のtransformersライブラリを使用するための解決策を探しています。 


---
# 最新バージョンのtransformersライブラリを本番環境でどのように使用できますか？

**TomFuj** *金 7月 19 2024 01:04:06 GMT+0900 (日本標準時)* (2票)

Kaggleスタッフ各位

Kaggle環境でpipを使ってインストールした最新のtransformersライブラリ（バージョン4.42.4）が、本番環境ではバージョン4.41.2にダウングレードされ、正しく反映されていません。

本番環境で最新のtransformersライブラリを使用する最良の方法についてアドバイスをお願いします。

---
# 他のユーザーからのコメント

> ## Mitsutani
> 
> 私も同じ問題に直面しています。解決策があれば教えてください。
> 
> 
> 
---
> ## JacobStein
> 
> 私たちのチームも同様の問題に直面しています。ビルド時にインストールした新しいバージョンのtransformersライブラリよりも、古いバージョンが優先されています。
> 
> 
> 
---
> ## Chris Deotte
> 
> 提出時に使用するパッケージをpipでインストールする方法については、私のスターターノートブックをご覧ください [こちら](https://www.kaggle.com/code/cdeotte/starter-code-for-llama-8b-llm-lb-0-750)
> 
> 
> 
> > ## Mitsutani
> > 
> > この設定を試してみましたが、Gemma 2を実行しています。ノートブックと同じ手順（sys.pathの変更など）に従いましたが、本番環境でtransformersをインポートすると、古いバージョンも読み込まれてしまい、Gemma 2をロードできません。メインはtransformers 4.42.4を必要としないので正常に動作すると思いますが、間違っていたら訂正してください。
> > 
> > 
> > 
--- 

